<div class="main">
  <div class="container">
    <ng-container *ngIf="hasConnectionError">
      <div class="error-message">
        <h1>ERROR!</h1>
        <p>Unable to connect to the Server. Please try again later.</p>
      </div>
    </ng-container>

    <ng-container *ngIf="!hasConnectionError">
      <!-- Login Form -->
      <div class="login-form" [class.shifted]="isShifted">
        <h1>Welcome Back</h1>
        <p>Welcome, log-in and start shopping!</p>
        <form>
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" placeholder="Enter your email" required [(ngModel)]="email" name="email">
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" placeholder="Enter your password" required [(ngModel)]="password"
              name="password">
          </div>
          <button type="submit" class="btn" id="login-btn" [class.loading]="isLoading" [class.success]="isSuccess"
            [class.error]="isError" (click)="onLoginClick($event)">
            <span id="login-btn-text">{{ loginButtonText }}</span>

            <div class="button-loader">
              <div></div>
              <div></div>
              <div></div>
            </div>
          </button>
          <p class="toggle-text">
            Doesnâ€™t have an account? <a href="" (click)="onSignInLinkClick($event)" id="sign-in-link">Sign In</a>
          </p>
        </form>
      </div>

      <div class="image-section" [class.shifted]="isShifted">
        <img [src]="illustrationSrc" [class.fade-out]="isFadingOut" [class.fade-in]="isFadingIn"
          alt="Login Illustration" id="illustration">
      </div>

      <!-- Sign-In Form -->
      <div class="sign-in-form" [class.shifted]="isShifted">
        <h1>Create Account</h1>
        <p>Join us and start your journey</p>
        <form>
          <!-- First Name and Last Name -->
          <div class="form-group-row">
            <div class="form-group">
              <label for="first-name">First Name</label>
              <input type="text" id="first-name" placeholder="Enter your first name" [(ngModel)]="firstName"
                name="firstName" required>
            </div>
            <div class="form-group">
              <label for="last-name">Last Name</label>
              <input type="text" id="last-name" placeholder="Enter your last name" [(ngModel)]="lastName"
                name="lastName" required>
            </div>
          </div>

          <!-- Email -->
          <div class="form-group">
            <label for="signup-email">Email</label>
            <input type="email" id="signup-email" placeholder="Enter your email" [(ngModel)]="signEmail"
              name="signEmail" required>
          </div>

          <!-- Password and Confirm Password -->
          <div class="form-group-row">
            <div class="form-group">
              <label for="signup-password">Password</label>
              <input type="password" id="signup-password" placeholder="Enter your password" [(ngModel)]="signPassword"
                name="signPassword" required>
            </div>
            <div class="form-group">
              <label for="signup-password-confirm">Confirm Password</label>
              <input type="password" id="signup-password-confirm" placeholder="Confirm your password"
                [(ngModel)]="signPasswordConfirm" name="signPasswordConfirm" required>
            </div>
          </div>

          <button type="submit" class="btn" (click)="onSigninClick($event)">
            <span>Sign Up</span>
          </button>
        </form>
        <p class="toggle-text">
          Already have an account? <a href="" (click)="onLoginLinkClick($event)" id="login-link">Log In</a>
        </p>
      </div>

      <!-- Modal -->
      <div id="modal" class="modal" [class.show]="isModalVisible">
        <div class="modal-content">
          <!-- Close Button -->
          <span class="close-btn" (click)="closeModal()">&times;</span>

          <!-- Modal Content for Success (Green Tick) -->
          <div *ngIf="modalSuccess" class="tick-container">
            <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40">
              <circle cx="12" cy="12" r="11" fill="none" stroke="#128c39" stroke-width="2" />
              <path class="check" fill="none" stroke="#128c39" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" d="M6 12l4 4 8-8" />
            </svg>
          </div>

          <!-- Modal Content for Error (Red X) -->
          <div *ngIf="modalError" class="x-container">
            <svg class="red-x" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40">
              <circle cx="12" cy="12" r="11" fill="none" stroke="#e53935" stroke-width="2" />
              <path class="x" fill="none" stroke="#e53935" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" d="M6 6l12 12M18 6L6 18" />
            </svg>
          </div>

          <h2>{{ modalSuccess ? 'Successful!' : 'Error!' }}</h2>
          <p>{{ modalMessage }}</p>
          <button (click)="closeModal()">Close</button>
        </div>
      </div>
    </ng-container>

  </div>
</div>